#:kivy 1.0.9

BoxLayout:
    orientation: 'vertical'
    Menu:
        size_hint_y: .1
        manager: screen_manager
    ScreenManagement:
        size_hint_y: .9
        id: screen_manager
        HomeScreen:
            name: 'screen_home'
            manager: 'screen_manager'
        AddScreen:
            name: 'screen_add'
            manager: 'screen_manager'
        LoginScreen:
            name: 'screen_login'
            manager: 'screen_manager'

<Menu>:
    orientation: "vertical"
    ActionBar:
        top: 0
        ActionView:
            ActionPrevious:
            ActionButton:
                text: 'Home'
                on_press: root.manager.current = 'screen_home'
            ActionButton:
                text: 'Add New'
                on_press: root.manager.current = 'screen_add'
            ActionButton:
                text: 'Register'
                on_press: root.manager.current = 'screen_registration'
            ActionButton:
                text: 'Login'
                on_press: root.manager.current = 'screen_login'

<ScreenManagement>:
    id: screen_manager
    HomeScreen:
        name: 'screen_home'
        manager: 'screen_manager'
    AddScreen:
        name: 'screen_add'
        manager: 'screen_manager'
    UserRegistrationScreen:
        name: 'screen_registration'
        manager: 'screen_manager'
    LoginScreen:
        name: 'screen_login'
        manager: 'screen_manager'

<HomeScreen>:
    BoxLayout:
        orientation: "vertical"
        MyRecycleView:

<MyRecycleView>:
    viewclass: 'Label'
    RecycleBoxLayout:
        color: 1, 1, 1, 1
        default_size: None, dp(56)
        default_size_hint: 1, None
        size_hint_y: None
        height: self.minimum_height
        orientation: 'vertical'

<AddNewForm>:
    text_input: input
    TextInput:
        id: input
        pos: root.center_x - 220, 300
        size: 400, 50
    Button:
        size: 130, 40
        pos: root.center_x - 100, 200
        text: 'Submit'
        on_release: root.submit_input()

<LoginScreen>:
    username_input: username_input
    password_input: password_input

    BoxLayout:
        orientation: 'vertical'
        size_hint_y: None
        height: self.minimum_height  # Adjust the height of the BoxLayout
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}  # Center the BoxLayout horizontally

        TextInput:
            id: username_input
            hint_text: 'Username'
            multiline: False
            size_hint_y: None
            height: 40  # Specify the height of the TextInput
            size_hint_x: 0.8  # Adjust the width by setting size_hint_x
            pos_hint: {'center_x': 0.5}  # Center the TextInput horizontally

        TextInput:
            id: password_input
            hint_text: 'Password'
            password: True
            multiline: False
            size_hint_y: None
            height: 40  # Specify the height of the TextInput
            size_hint_x: 0.8  # Adjust the width by setting size_hint_x
            pos_hint: {'center_x': 0.5}  # Center the TextInput horizontally

    Button:
        text: 'Login'
        size_hint: None, None
        size: 150, 40
        pos_hint: {'center_x': 0.5, 'center_y': 0.3}  # Center the Button horizontally
        on_release: root.login_user()

<UserRegistrationScreen>:
    username_input: username_input
    password_input: password_input
    email_input: email_input

    orientation: 'vertical'
    spacing: 10
    padding: [20, 20]

    BoxLayout:
        orientation: 'vertical'
        size_hint_y: None
        height: self.minimum_height  # Adjust the height of the BoxLayout
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}# Center the BoxLayout horizontally

        TextInput:
            id: username_input
            hint_text: 'Username'
            multiline: False
            size_hint_y: None
            height: 40  # Specify the height of the TextInput
            size_hint_x: 0.8  # Adjust the width by setting size_hint_x
            pos_hint: {'center_x': 0.5}  # Center the TextInput horizontally

        TextInput:
            id: password_input
            hint_text: 'Password'
            password: True
            multiline: False
            size_hint_y: None
            height: 40  # Specify the height of the TextInput
            size_hint_x: 0.8  # Adjust the width by setting size_hint_x
            pos_hint: {'center_x': 0.5}  # Center the TextInput horizontally

        TextInput:
            id: email_input
            hint_text: 'Email'
            multiline: False
            size_hint_y: None
            height: 40  # Specify the height of the TextInput
            size_hint_x: 0.8  # Adjust the width by setting size_hint_x
            pos_hint: {'center_x': 0.5}  # Center the TextInput horizontally

    Button:
        text: 'Register'
        size_hint: None, None
        size: 150, 40
        pos_hint: {'center_x': 0.5, 'center_y': 0.3}  # Center the Button horizontally
        on_release: root.register_user(self)
